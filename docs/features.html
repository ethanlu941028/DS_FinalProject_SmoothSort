<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"><title>功能測試</title></head>
<body style="background:#1e1e1e; color:#d4d4d4; font-family:monospace; padding:20px;">
<h1>✅ Smooth Sort 視覺化 - 新功能驗證</h1>

<h2>✓ 已新增的功能：</h2>

<h3>1️⃣ 已排序數列顯示面板</h3>
<div style="background:#252526; padding:15px; border-radius:4px; margin:10px 0;">
  <div style="color:#4ec9b0; font-weight:bold;">✅ 已排序數列</div>
  <div style="background:#1e3a3a; color:#6a9955; padding:8px; margin-top:8px; border-radius:4px;">
    [7, 8, 9, 4, 2, 1]
  </div>
  <p style="color:#858585; margin-top:10px;">
    ✓ 當進行萃取根節點時，此面板會實時顯示已排序的數列<br>
    ✓ 顏色變化：排序完成時從藍色變為綠色
  </p>
</div>

<h3>2️⃣ 支援重複排序</h3>
<div style="background:#252526; padding:15px; border-radius:4px; margin:10px 0;">
  <p>✓ 完成一次排序後，你可以：</p>
  <ul>
    <li>✓ 點擊「開始排序」重新開始新的排序</li>
    <li>✓ 修改輸入框中的數字後重新開始</li>
    <li>✓ 多次使用自動播放功能</li>
  </ul>
  <p style="color:#4ec9b0; margin-top:10px;">
    🔄 所有控制按鈕在排序完成後都會自動啟用
  </p>
</div>

<h3>實現細節：</h3>
<pre style="background:#1e1e1e; padding:15px; border-radius:4px; overflow:auto;">
// 已排序數列顯示邏輯
const sortedArrayDisplay = document.getElementById('sorted-array');
if (sorted.length === 0) {
    sortedArrayDisplay.textContent = '等待排序...';
} else {
    const sortedValues = sorted.map(idx => visualizer.elementValues[idx]);
    sortedArrayDisplay.textContent = '[' + sortedValues.join(', ') + ']';
    sortedArrayDisplay.style.color = sorted.length === total ? '#6a9955' : '#9cdcfe';
}

// 支援重複排序
function startSort() {
    // 移除了「if (isSorting) return;」的檢查
    // 現在每次點擊都會重新初始化排序
    isSorting = true;
    isAutoPlaying = false;
    currentStep = 0;
    // ...
}
</pre>

<h3>使用示例：</h3>
<ol>
  <li>輸入數字：「7 2 8 1 4 9」</li>
  <li>點擊「開始排序」</li>
  <li>右側面板的「已排序數列」會顯示「[7, 8, ...]」並逐步增加</li>
  <li>完成後，點擊「開始排序」可以立即重新開始新的排序</li>
  <li>或修改輸入框後再點一次「開始排序」</li>
</ol>

<hr style="border: 1px solid #3c3c3c; margin: 20px 0;">
<p style="color:#858585; text-align:center;">
  💡 提示：使用「⬅️ 上一步」和「下一步 ➡️」精確控制，或使用「自動播放」自動演示整個過程
</p>
</body>
</html>
